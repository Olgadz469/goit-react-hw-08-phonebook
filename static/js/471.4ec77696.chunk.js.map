{"version":3,"file":"static/js/471.4ec77696.chunk.js","mappings":"uOAyDA,UAxCgB,WACd,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACdI,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAUF,EAAAA,EAAAA,IAAYG,EAAAA,IACtBC,GAAQJ,EAAAA,EAAAA,IAAYK,EAAAA,KAE1BC,EAAAA,EAAAA,YAAU,WACRT,GAASU,EAAAA,EAAAA,GAAc,CAAEZ,KAAAA,EAAMa,MAAO,IACxC,GAAG,CAACX,EAAUF,IASd,OAAOI,GACLU,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KAEPC,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EACRJ,EAAAA,EAAAA,KAACK,EAAAA,GAAW,CAAAD,SACTX,EAAQa,OAAS,GAChBb,EAAQc,KAAI,SAACC,EAAMC,GAAC,OAClBT,EAAAA,EAAAA,KAACU,EAAAA,GAAQ,CAAAN,UACPJ,EAAAA,EAAAA,KAACW,EAAAA,EAAU,CAACH,KAAMA,KADLA,EAAKI,IAET,MAIhBnB,EAAQa,SAAWX,GAASF,EAAQa,OAAS,IAC5CN,EAAAA,EAAAA,KAACa,EAAAA,GAAW,CAACC,KAAK,SAASC,QArBV,WACjBtB,EAAQa,QAAUX,GAGtBR,GAAQ,SAAA6B,GAAI,OAAIA,EAAO,CAAC,GAC1B,EAgByDZ,SAAC,gBAM5D,C","sources":["pages/Catalog.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllAdverts } from '../redux/operations';\nimport {\n  selectAdverts,\n  selectIsLoading,\n  selectTotal,\n} from '../redux/selectors';\nimport { Container } from 'layouts/Container';\nimport Loader from 'components/Loader/Loader';\nimport AdvertCard from 'components/Card/Card';\nimport {\n  AdvertsList,\n  CardItem,\n  LoadMoreBtn,\n} from 'components/Card/Card.styled';\n\nconst Catalog = () => {\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n  const adverts = useSelector(selectAdverts);\n  const total = useSelector(selectTotal);\n\n  useEffect(() => {\n    dispatch(getAllAdverts({ page, limit: 4 }));\n  }, [dispatch, page]);\n\n  const handleLoadMore = () => {\n    if (adverts.length >= total) {\n      return;\n    }\n    setPage(prev => prev + 1);\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : (\n    <Container>\n      <AdvertsList>\n        {adverts.length > 0 &&\n          adverts.map((card, i) => (\n            <CardItem key={card._id}>\n              <AdvertCard card={card} />\n            </CardItem>\n          ))}\n      </AdvertsList>\n\n      {adverts.length !== total && adverts.length > 0 && (\n        <LoadMoreBtn type=\"button\" onClick={handleLoadMore}>\n          Load more\n        </LoadMoreBtn>\n      )}\n    </Container>\n  );\n};\n\nexport default Catalog;\n"],"names":["_useState","useState","_useState2","_slicedToArray","page","setPage","dispatch","useDispatch","isLoading","useSelector","selectIsLoading","adverts","selectAdverts","total","selectTotal","useEffect","getAllAdverts","limit","_jsx","Loader","_jsxs","Container","children","AdvertsList","length","map","card","i","CardItem","AdvertCard","_id","LoadMoreBtn","type","onClick","prev"],"sourceRoot":""}